#!/bin/bash

nombre_database=$1
diccionario=$2

convertir_a_john() {

    # Verificar si el archivo de base de datos KeePass existe
    if [ -f "$nombre_database" ]; then
        # Ejecutar el comando keepass2john para convertir la base de datos a formato John
        keepass2john "$nombre_database" > keepass.txt
	john --wordlist="$diccionario" keepass.txt
	john --show keepass.txt
	rm keepass.txt
    else
        echo "El archivo de base de datos KeePass ($database_file) no existe."
    fi
}

if command -v john &>/dev/null; then
    echo "John the Ripper está instalado en tu sistema"
    convertir_a_john
else
    echo "John the Ripper NO está instalado en tu sistema."
    exit 1
fi
